<html lang="en">
<head>
    <title>Test video</title>
    <style type="text/css">
        #grf-video, #widget {
            width: 500px;
        }
    </style>
</head>

<body>


<script>

    window.initVideo = function () {

        window.vnModule = window.vnModuleCreate({
            format: {
                options: {
                    playerElement: '#widget'
                }
            }
        });

        const module = window.vnModule;

        module.subscribe(() => {
            console.log('AdLoaded');

            module.startAd({
                checkVisibility: true
            });

        }, 'AdLoaded');
        module.subscribe((error) => {
            console.log('AdError');
            console.log(error)
        }, 'AdError');
        module.subscribe(() => {
            console.log('AdStopped')
        }, 'AdStopped');
        module.subscribe(() => {
            console.log('AdSkipped')
        }, 'AdSkipped');
    }

    /*
        let script = document.createElement('script');
        script.src = "http://static.videonow.ru/dev/debug/vn_init_module.js?profileId=5133154&initOnly=1"
        script.setAttribute('defer', true);
        script.setAttribute('data-onload', "initVideo")
        document.querySelector('#widget').appendChild(script);
    */

</script>

<script src="http://static.videonow.ru/dev/debug/vn_init_module.js?profileId=5133154&initOnly=1"
        data-onload="initVideo"
        defer>
</script>

<div id="grf-video">

</div>

</body>
</html>
